{% extends "base.html" %}
{% block title %}Mis citas{% endblock %}

{% block content %}

<h2 class="text-white mb-4" data-aos="fade-down">Mis citas</h2>

{% if appointments %}
<table class="table table-dark table-hover rounded shadow-lg" data-aos="fade-up">
    <thead>
        <tr>
            <th>Fecha</th>
            <th>Servicio</th>
            <th>Profesional</th>
            <th>Estado</th>
            <th>Notas</th>
        </tr>
    </thead>

    <tbody>
        {% for a in appointments %}
        <tr>
            <td>{{ a.appointment_datetime.strftime('%Y-%m-%d %H:%M') }}</td>
            <td>{{ a.service.name }}</td>
            <td>{{ a.barber.name }}</td>

            <td>
                {% if a.status == "pendiente" %}
                    <span class="badge bg-warning text-dark">Pendiente</span>
                {% elif a.status == "confirmada" %}
                    <span class="badge bg-success">Confirmada</span>
                {% elif a.status == "cancelada" %}
                    <span class="badge bg-danger">Cancelada</span>
                {% endif %}
            </td>

            <td>{{ a.notes }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% else %}
<p class="text-white mt-3">AÃºn no tienes citas registradas.</p>
{% endif %}

{% endblock %}
